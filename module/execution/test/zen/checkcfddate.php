#!/usr/bin/env php
<?php

/**

title=测试 executionZen::checkCFDDate();
timeout=0
cid=0

- 测试步骤1:正常有效的日期范围 @1
- 测试步骤2:开始日期为空 @『开始日期』不能为空
- 测试步骤3:结束日期为空 @『结束日期』不能为空
- 测试步骤4:开始日期小于最小日期 @『开始日期』应当大于『2024-12-01』
- 测试步骤5:结束日期大于最大日期 @『结束日期』应当小于『2025-12-31』
- 测试步骤6:开始日期等于结束日期 @开始日期应小于结束日期
- 测试步骤7:日期范围超过3个月 @累积流图只提供3个月内的数据展示
- 测试步骤8:边界值刚好3个月的日期范围 @1

*/

include dirname(__FILE__, 5) . '/test/lib/init.php';
include dirname(__FILE__, 2) . '/lib/executionzen.unittest.class.php';

su('admin');

$executionTest = new executionZenTest();

r($executionTest->checkCFDDateTest('2025-01-01', '2025-02-01', '2024-12-01', '2025-12-31')) && p() && e('1'); // 测试步骤1:正常有效的日期范围
r($executionTest->checkCFDDateTest('', '2025-02-01', '2024-12-01', '2025-12-31')) && p() && e('『开始日期』不能为空'); // 测试步骤2:开始日期为空
r($executionTest->checkCFDDateTest('2025-01-01', '', '2024-12-01', '2025-12-31')) && p() && e('『结束日期』不能为空'); // 测试步骤3:结束日期为空
r($executionTest->checkCFDDateTest('2024-11-01', '2025-02-01', '2024-12-01', '2025-12-31')) && p() && e('『开始日期』应当大于『2024-12-01』'); // 测试步骤4:开始日期小于最小日期
r($executionTest->checkCFDDateTest('2025-01-01', '2026-02-01', '2024-12-01', '2025-12-31')) && p() && e('『结束日期』应当小于『2025-12-31』'); // 测试步骤5:结束日期大于最大日期
r($executionTest->checkCFDDateTest('2025-02-01', '2025-02-01', '2024-12-01', '2025-12-31')) && p() && e('开始日期应小于结束日期'); // 测试步骤6:开始日期等于结束日期
r($executionTest->checkCFDDateTest('2024-12-01', '2025-05-01', '2024-12-01', '2025-12-31')) && p() && e('累积流图只提供3个月内的数据展示'); // 测试步骤7:日期范围超过3个月
r($executionTest->checkCFDDateTest('2025-01-01', '2025-04-01', '2024-12-01', '2025-12-31')) && p() && e('1'); // 测试步骤8:边界值刚好3个月的日期范围
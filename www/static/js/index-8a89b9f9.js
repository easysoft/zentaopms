import{ah as t,a1 as o,v as B,ai as C,aj as U,ak as F,j as V,d as N,x as G,r as m,m as j,z as k,e as u,w as y,f as a,F as z,o as K,al as d}from"./index.js";import{u as I,a as $,b as W,l as _}from"./useSync.hook-dc37f27b.js";import{_ as Y}from"./index-8ab7ee63.js";import{l as X}from"./plugin-7a22da69.js";import{i as b}from"./icon-50bef5d9.js";const{CopyIcon:q,CutIcon:J,ClipboardOutlineIcon:Q,TrashIcon:Z,ChevronDownIcon:ee,ChevronUpIcon:te,LockOpenOutlineIcon:ne,LockClosedOutlineIcon:oe,EyeOutlineIcon:ae,EyeOffOutlineIcon:le}=b.ionicons5,{UpToTopIcon:ie,DownToBottomIcon:se,PaintBrushIcon:re,Carbon3DSoftwareIcon:ue,Carbon3DCursorIcon:ce}=b.carbon,e=I(),O=(n=3)=>({type:"divider",key:`d${n}`}),f=[{label:"\u9501\u5B9A",key:t.LOCK,icon:o(oe),fnHandle:e.setLock},{label:"\u89E3\u9501",key:t.UNLOCK,icon:o(ne),fnHandle:e.setUnLock},{label:"\u9690\u85CF",key:t.HIDE,icon:o(le),fnHandle:e.setHide},{label:"\u663E\u793A",key:t.SHOW,icon:o(ae),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"\u590D\u5236",key:t.COPY,icon:o(q),fnHandle:e.setCopy},{label:"\u526A\u5207",key:t.CUT,icon:o(J),fnHandle:e.setCut},{label:"\u7C98\u8D34",key:t.PARSE,icon:o(Q),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"\u7F6E\u9876",key:t.TOP,icon:o(ie),fnHandle:e.setTop},{label:"\u7F6E\u5E95",key:t.BOTTOM,icon:o(se),fnHandle:e.setBottom},{label:"\u4E0A\u79FB",key:t.UP,icon:o(te),fnHandle:e.setUp},{label:"\u4E0B\u79FB",key:t.DOWN,icon:o(ee),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"\u6E05\u7A7A\u526A\u8D34\u677F",key:t.CLEAR,icon:o(re),fnHandle:e.setRecordChart},{label:"\u5220\u9664",key:t.DELETE,icon:o(Z),fnHandle:e.removeComponentList}],h=[{label:"\u521B\u5EFA\u5206\u7EC4",key:t.GROUP,icon:o(ue),fnHandle:e.setGroup},{label:"\u89E3\u9664\u5206\u7EC4",key:t.UN_GROUP,icon:o(ce),fnHandle:e.setUnGroup}],de=[t.PARSE,t.CLEAR],S=(n,l)=>{if(!l)return n;const i=[];return l.forEach(c=>{i.push(...n.filter(s=>s.key===c))}),i},_e=(n,l)=>l?n.filter(i=>l.findIndex(c=>c!==i.key)!==-1):n,r=B([]),fe=(n,l,i,c,s)=>{n.stopPropagation(),n.preventDefault();let p=n.target;for(;p instanceof SVGElement;)p=p.parentNode;e.setTargetSelectChart(l&&l.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?r.value=h:r.value=f,l||(r.value=S(C(r.value),de)),c&&(r.value=_e([...h,O(),...f],c)),s&&(r.value=S([...h,O(),...f],s)),i&&(r.value=i(U(C(r.value)),[...h,...f],l)),F().then(()=>{e.setMousePosition(n.clientX,n.clientY),e.setRightMenuShow(!0)})},pe=()=>(r.value=f,{menuOptions:r,defaultOptions:f,defaultMultiSelectOptions:h,handleContextMenu:fe,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:i=>{e.setRightMenuShow(!1);const c=r.value.filter(s=>s.key===i);r.value.forEach(s=>{if(s.key===i){if(s.fnHandle){s.fnHandle();return}c||X()}})},mousePosition:e.getMousePosition});const ye={class:"go-chart"},he={style:{overflow:"hidden",display:"flex"}},me=N({__name:"index",setup(n){const l=$(),i=I(),{dataSyncFetch:c}=W();l.canvasInit(i.getEditCanvas);const s=_(()=>d(()=>import("./index-2c2f5b87.js"),["static/js/index-2c2f5b87.js","static/js/index.js","static/css/index-a1e82c00.css"])),p=_(()=>d(()=>import("./index-35a60676.js"),["static/js/index-35a60676.js","static/css/index-89aaed03.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/icon-50bef5d9.js"])),H=_(()=>d(()=>import("./index-b2be767c.js"),["static/js/index-b2be767c.js","static/css/index-13c8c126.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/icon-50bef5d9.js","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/index-a7a6c4c4.js","static/css/index-e4970116.css"])),g=_(()=>d(()=>import("./index-a3ebf001.js"),["static/js/index-a3ebf001.js","static/css/index-9214308d.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/index-3fa0aeaf.js","static/css/index-3e214e52.css","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/icon-50bef5d9.js","static/js/index-8ab7ee63.js","static/js/index-fc00cae9.js","static/css/index-24d4cc74.css"])),P=_(()=>d(()=>import("./index-f20452f6.js").then(function(v){return v.i}),["static/js/index-f20452f6.js","static/css/index-307dd14e.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/index-3fa0aeaf.js","static/css/index-3e214e52.css","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/icon-50bef5d9.js"])),T=_(()=>d(()=>import("./index-d01fb634.js"),["static/js/index-d01fb634.js","static/css/index-e8a4e3fa.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/icon-50bef5d9.js","static/js/index-3fa0aeaf.js","static/css/index-3e214e52.css"])),R=_(()=>d(()=>import("./index-a8bbc1e4.js"),["static/js/index-a8bbc1e4.js","static/js/useSync.hook-dc37f27b.js","static/css/useSync.hook-2a63fbf0.css","static/js/index.js","static/css/index-a1e82c00.css","static/js/tables_list-e9bf7815.js","static/js/plugin-7a22da69.js","static/js/icon-50bef5d9.js"])),{menuOptions:w,onClickOutSide:A,mousePosition:E,handleMenuSelect:D}=pe();return G(()=>{c()}),(v,ve)=>{const x=m("n-layout-content"),M=m("n-layout"),L=m("n-dropdown");return K(),j(z,null,[k("div",ye,[u(M,null,{default:y(()=>[u(a(Y),null,{left:y(()=>[u(a(s))]),center:y(()=>[u(a(H))]),"ri-left":y(()=>[u(a(p))]),_:1}),u(x,{"content-style":"overflow:hidden; display: flex"},{default:y(()=>[k("div",he,[u(a(P)),u(a(g))]),u(a(T))]),_:1})]),_:1})]),u(L,{placement:"bottom-start",trigger:"manual",size:"small",x:a(E).x,y:a(E).y,options:a(w),show:a(i).getRightMenuShow,"on-clickoutside":a(A),onSelect:a(D)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),u(a(R))],64)}}});var Ee=V(me,[["__scopeId","data-v-f3644264"]]),be=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));export{O as d,be as i,pe as u};

var E=(_,a,s)=>new Promise((i,n)=>{var m=t=>{try{r(s.next(t))}catch(e){n(e)}},p=t=>{try{r(s.throw(t))}catch(e){n(e)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(m,p);r((s=s.apply(_,a)).next())});import{M as F}from"./index-37f0aa61.js";import{_ as L,o as A}from"./index-0fa84b9f.js";import{u as I,g as K,y as v,f as b,j as D,E as S,z as O}from"./useSync.hook-a181ea44.js";import{p as R,d as M,q as N,a5 as z,R as H,am as V,r as B,o as h,h as f,z as l,F as $,A as U,e as o,f as g,w as d,m as k,t as w,ad as j,ck as q,c2 as G}from"./index.js";import{a as J,b as Y,l as P}from"./plugin-6aef7162.js";import{c as u}from"./index-334fdcb7.js";import"./icon-0e07ccce.js";import"./index-ba2d39a2.js";import"./tables_list-38e71280.js";import"./index-c776e10b.js";import"./index-75342b33.js";const Q={class:"go-content-charts-item-animation-patch"},W=["onDragstart","onDblclick"],X={class:"list-header"},Z={class:"list-center go-flex-center go-transition"},tt={class:"list-bottom"},et=M({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(_){const a=I(),s=K(),i=N(),n=z(()=>s.getChartType),m=(t,e)=>{u(e.chartKey,b(e)),u(e.conKey,D(e)),t.dataTransfer.setData(q.DRAG_KEY,G(A(e,["image"]))),a.setEditCanvas(S.IS_CREATE,!0)},p=()=>{a.setEditCanvas(S.IS_CREATE,!1)},r=t=>E(this,null,function*(){try{J(),u(t.chartKey,b(t)),u(t.conKey,D(t));let e=yield O(t);a.addComponentList(e,!1,!0),a.setTargetSelectChart(e.id),Y()}catch(e){P(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}});return H(()=>n.value,t=>{t===v.DOUBLE&&V(()=>{i.value.classList.add("miniAnimation")})}),(t,e)=>{const C=B("n-ellipsis"),y=B("n-text");return h(),f("div",Q,[l("div",{ref_key:"contentChartsItemBoxRef",ref:i,class:j(["go-content-charts-item-box",[n.value===g(v).DOUBLE?"double":"single"]])},[(h(!0),f($,null,U(_.menuOptions,(c,T)=>(h(),f("div",{class:"item-box",key:T,draggable:"",onDragstart:x=>m(x,c),onDragend:p,onDblclick:x=>r(c)},[l("div",X,[o(g(F),{class:"list-header-control-btn",mini:!0,disabled:!0}),o(y,{class:"list-header-text",depth:"3"},{default:d(()=>[o(C,null,{default:d(()=>[k(w(c.title),1)]),_:2},1024)]),_:2},1024)]),l("div",Z,[o(g(L),{class:"list-img",chartConfig:c},null,8,["chartConfig"])]),l("div",tt,[o(y,{class:"list-bottom-text",depth:"3"},{default:d(()=>[o(C,{style:{"max-width":"90%"}},{default:d(()=>[k(w(c.title),1)]),_:2},1024)]),_:2},1024)])],40,W))),128))],2)])}}});var pt=R(et,[["__scopeId","data-v-3bb6960e"]]);export{pt as default};
